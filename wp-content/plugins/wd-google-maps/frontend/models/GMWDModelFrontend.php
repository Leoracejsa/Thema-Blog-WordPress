<?php
        
class GMWDModelFrontend {
	////////////////////////////////////////////////////////////////////////////////////////
	// Events                                                                             //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Constants                                                                          //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Variables                                                                          //
	////////////////////////////////////////////////////////////////////////////////////////
	public $params;
	////////////////////////////////////////////////////////////////////////////////////////
	// Constructor & Destructor                                                           //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Public Methods                                                                     //
	////////////////////////////////////////////////////////////////////////////////////////
	public function __construct($params){
		$this->params = $params;
	}
	
	public function get_row_by_id($id , $table_name){
		global $wpdb;
		$id = (int)$id;
		$table_name = $wpdb->prefix . "gmwd_".$table_name ;
		if($id){
			$query = "SELECT * FROM " . $table_name ." WHERE id='%d'";			
			$row = $wpdb->get_row($wpdb->prepare($query, $id));
		}
		else{					
			$columns = $this->get_columns($table_name);			
			$row = new stdClass();
			foreach($columns as $column){
				$row->$column = "";
			}
		}

		return $row;
	}
	
	public function get_columns($table_name){
		global $wpdb;
		$query = "SHOW COLUMNS  FROM " . $table_name ;			
		$columns = $wpdb->get_col( $query , 0 );
		return 	$columns;	
	}
	

	////////////////////////////////////////////////////////////////////////////////////////
	// Getters & Setters                                                                  //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Private Methods                                                                    //
	////////////////////////////////////////////////////////////////////////////////////////
	////////////////////////////////////////////////////////////////////////////////////////
	// Listeners                                                                          //
	////////////////////////////////////////////////////////////////////////////////////////
}